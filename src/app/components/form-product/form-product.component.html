<h2 class="mt-5 text-center text-primary fs-50 text-bold">Add New Product</h2>
<div class="m-5 p-5">
  <form class="w-50" (ngSubmit)="submit()" [formGroup]="productDataForm">
    <div class="mb-3">
      <label for="productName" class="form-label">Product Name</label>
      <input type="text" class="form-control" id="productName" formControlName="name" name="name" placeholder="Enter Product Name">
      <!-- @if (getName.touched) {
         @if (getName.hasError('required')) {
        <div id="" class="form-text text-danger">
          Product Name Is Required
        </div>
        } @if (getName.hasError('minlength')) {
        <div id="emailHelp" class="form-text text-danger">
          Product Name length must be greater than 3
        </div>
        } } -->
      </div>
          <div class="mb-3">
      <label for="productDescription" class="form-label">Product Description</label>
      <input type="text" class="form-control" id="productDescription" formControlName="description" name="description" placeholder="Enter Product Description">
      <!-- @if (getName.touched) {
         @if (getName.hasError('required')) {
        <div id="" class="form-text text-danger">
          Product Name Is Required
        </div>
        } @if (getName.hasError('minlength')) {
        <div id="emailHelp" class="form-text text-danger">
          Product Name length must be greater than 3
        </div>
        } } -->
      </div>
      <!-- //////////////////////// -->
    <div class="mb-3">
      <label for="productPrice" class="form-label">Price</label>
      <input type="number" class="form-control" id="productPrice" formControlName="price" name="price" placeholder="Enter Product Price">
      @if (getPrice.touched) {
        @if (getName.hasError('required')) {
      <div *ngIf="getPrice.touched && getPrice.hasError('required')" class="text-danger">
  Product Price is required.
</div>

       }}
    </div>
    <div class="mb-3">
      <label for="productStock" class="form-label">Stock</label>
      <input type="number" class="form-control" id="productStock" formControlName="stock" name="quantity" placeholder="Enter Product Quantity">
    
      @if (getQuantity.touched) {
        @if (getQuantity.hasError('required')) {
       <div id="" class="form-text text-danger">
         Product Quantity Is Required
       </div>
       }}
    </div>
    <div class="mb-3">
      <label for="productImage" class="form-label">Image</label>
     <input type="file" class="form-control" id="productImage" (change)="onFileSelected($event)">
<!--     
      @if (getQuantity.touched) {
        @if (getQuantity.hasError('required')) {
       <div id="" class="form-text text-danger">
         Product Quantity Is Required
       </div>
       }} -->
    </div>
     <div class="mb-3">
      <label for="productImage" class="form-label">Category</label>
<select class="form-control" name="categoryId" [(ngModel)]="selectedCategoryId">
  <option *ngFor="let item of categories" [value]="item.id">{{ item.Name }}</option>
</select>

    </div>
    <div class="mb-3">
        <label for="hasSale">Sale</label>
<input type="checkbox" formControlName="hasSale" id="hasSale">

    </div>

      <div class="mb-3">
      <label for="productPrecentage" class="form-label">Price Precentage</label>
      <input type="number" class="form-control" id="productPrecentage" formControlName="precentage" name="price" placeholder="Enter Product Price Precentage">
      @if (getPrice.touched) {
        @if (getName.hasError('required')) {
       <div id="" class="form-text text-danger">
         Product Price Is Required
       </div>
       }}
    </div>
    <button type="submit" class="btn btn-dark" [disabled]="productDataForm.invalid">
        {{ productId == 0 ? "Add Product" : "Edit Product" }}
      </button> 
    <br>
    
    <button [routerLink]="['/product']" class="btn btn-outline-primary mt-4 px-4">
      ‚Üê Back to Products
    </button>
  </form>
</div>

